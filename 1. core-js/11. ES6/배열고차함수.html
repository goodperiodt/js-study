<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 배열 userList 는 4개의 객체를 갖고 있다.
    const userList = [{
        account: "abc1234",
        userName: "대길이",
        job: "추노",
        address: "서울",
        hobbies: ["수영", "축구", "테니스"],
      },
      {
        account: "banana",
        userName: "빠나나",
        job: "과일",
        address: "서울",
        hobbies: ["푸드파이팅", "테니스"],
      },
      {
        account: "park1234",
        userName: "주차왕",
        job: "발렛파킹",
        address: "경기",
        hobbies: ["족구", "축구", "테니스", "영화감상"],
      },
      {
        account: "fire",
        userName: "불꽃남자카리스마",
        job: "게이머",
        address: "서울",
        hobbies: ["독서", "테니스"],
      },
    ];

    // 배열 고차함수
    // forEach(): 배열의 요소를 반복하면서 하나씩 소비

    for (let user of userList) {
      console.log(`이름: ${user.userName}, 주소: ${user.address}`);
    }

    console.log('-----------------------------------------------');

    //배열명.forEach()
    userList.forEach(user => console.log(`이름: ${user.userName}, 주소: ${user.address}`));

    console.log('-----------------------------------------------');
    userList.forEach((user) => {
      console.log(`이름: ${user.userName}, 주소: ${user.address}`);
    });

    // filter
    // 특정 조건에 의해 필터링된 새로운 배열이 리턴
    const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

    //1~10까지의 수가 저장되어 있는 변수들을 갖는 배열  numbers에서
    //3의 배수만 filter해서 새로운 배열에 담는다.
    const newArray = numbers.filter(num => num % 3 === 0);
    console.log(newArray);

    //회우너 중 아이디가 abc1234인 사람을 필터링해줘
    const newUserList = userList.filter(user => user.account === 'abc1234');
    console.log(newUserList);

    //배열 고차함수: map
    //특정 배열에서 특정 조건에 맞는 값들만 따로 모아서
    //새롭게 매핑한 배열을 반환

    console.log('=========================================================');

    const square = numbers.map(n => n ** 2);
    console.log(square);

    const plusTwo = numbers.map(n => n + 2);
    console.log(plusTwo);

    //회원들의 취미 중 첫 번째 취미만 새 배열로 받기
    const firstHobby = userList.map(user => user.hobbies[0]);
    console.log(firstHobby);

    //회원 목록에서 회원의 이름과 주소만 추출하고 싶다.
    const mappedUserList = userList.map(u => {
      return {
        userName: u.userName,
        addr: u.address
      }
    });

    console.log(mappedUserList);

    // filter -> 10개짜리 배열에서 조건에맞는 몇개만 필터링
    // 필터의 결과 배열은 개수가 10개 이하일 가능성이 크다.

    // map -> 10개짜리 배열에서 조건대로 10개를 전부 매핑
    // 맵의 결과 배열 개수는 무조건 10개다.

    console.log('=======================================');

    const appleBasket = [
      {
        //컬러
        color: 'green',
        //당도
        sweet: 13
      },
      {
        color: 'red',
        sweet: 14
      },
      {
        color: 'red',
        sweet: 11
      },
      {
        color: 'green',
        sweet: 6
      },
      {
        color: 'green',
        sweet: 7
      },
      {
        color: 'green',
        sweet: 9
      },
    ];

    //사과중에 녹색이면서 당도가 9이상인 사과만 선별하기
    //이 사과는  xxx색이며, 당도는  xxx 입니다.
    //라는 문자열이 매핑되어 있는 배열을 리턴해 주세요.

    // const green9 = appleBasket.filter(apple => apple.color === 'green' && apple.sweet>= 9);
    // console.log(green9);

    // const mapGreen9 = green9.map(apple => `이 사과는 ${apple.color}색이며, 당도는 ${apple.sweet}입니다.`);

    appleBasket
      .filter(apple => apple.color === 'green' && apple.sweet >= 9)
      .map(apple => `이 사과는 ${apple.color}색이며, 당도는 ${apple.sweet}입니다.`)
      .forEach(a => console.log(a));


    
  </script>
</body>

</html>